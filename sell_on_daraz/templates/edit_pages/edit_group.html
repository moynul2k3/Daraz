{% extends 'sell_on_daraz/sale_on_daraz.html' %}
{% load static tailwind_tags %}
{%block title%} Sell on Daraz {%endblock%}

{% block content %}
<!-- ................Edit Products.................. -->
<div id="add_new" class="flex flex-col h-auto mb-10 rounded-md overflow-hidden ">
    <!-- .............Forms Body............ -->
    <p class="text-[20px] px-20 py-5 pt-10 font-semibold text-[#01acff]"><a href="{% url 'sell_on_daraz:for_sale' %}" class="hover:text-[#01aaff9d] hover:underline">Sell On Daraz</a> | Edit Group</p>
    <div class="w-full px-20 pb-10 overflow-auto">
        <div class="w-full h-auto py-16 rounded-lg bg-white flex flex-col justify-center items-center">
            <form action="." method="post" id="editGroupForm" data-subcategories-url="{% url 'sell_on_daraz:load_options' %}" enctype="multipart/form-data" class="h-52 w-full flex flex-col justify-center items-center gap-5 bg-white rounded-lg relative" >
                {% csrf_token %}
                <div class="grid grid-cols-2 gap-5">
                    <div class="h-10 w-[400px] p-0 m-0 text-sm flex justify-center items-center border-[1px] rounded-lg overflow-hidden bg-transparent">
                        <label for="name" class="h-full w-40 font-semibold flex justify-center items-center bg-black text-white ">Category</label>
                        {{ edit_group_form.category }}
                    </div>
                    <div class="h-10 w-[400px] p-0 m-0 text-sm flex justify-center items-center border-[1px] rounded-lg overflow-hidden bg-transparent">
                        <label for="name" class="h-full w-40 font-semibold flex justify-center items-center bg-black text-white ">SubCategory</label>
                        {{ edit_group_form.subcategory }}
                    </div>
                    <div class="h-10 w-[400px] p-0 m-0 text-sm flex justify-center items-center border-[1px] rounded-lg overflow-hidden bg-transparent">
                        <label for="name" class="h-full w-40 font-semibold flex justify-center items-center bg-black text-white">Name</label>
                        {{ edit_group_form.name }}
                    </div>
                    <div class="h-10 w-[400px] p-0 m-0 text-sm flex justify-center items-center border-[1px] rounded-lg overflow-hidden bg-transparent">
                        {{ edit_group_form.image }}
                    </div>
                </div>
                
                <!-- {% if new_group_form.errors or new_group_form.non_field_errors %}
                <div class="mb-3 p-6 bg-red-100 rounded-xl absolute -bottom-0">
                    {% for field in new_group_form %}
                        {{ field.errors }}
                    {% endfor %}
                    {{ new_group_form.non_field_errors }}
                </div>
                {% endif %} -->
                <button name="group_form" type="submit" class="px-28 h-10 font-semibold bg-[#01aaff3d] hover:bg-[#01acff] hover:text-white  border border-gray-300 rounded-lg focus:ring-[#01aaff] focus:border-[#01aaff3d]">UPDATE</button>
                
            </form>

            <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
            <script>
                $("#id_category").change(function () {
                var url = $("#editGroupForm").attr("data-subcategories-url");
                var catId = $(this).val();

                $.ajax({
                    url: url,
                    data: {
                    'category': catId
                    },
                    success: function (data) {
                    $("#id_subcategory").html(data);
                    }
                });

                });
            </script>
        </div>
    </div>
</div>


{% endblock %}